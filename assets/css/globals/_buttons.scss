:root {
	/* Sizes */
	--btn-width: 12rem;
	--btn-height: 56px;
	--btn-gap: 10px;

	/* Borders */
	--btn-border-width: 2px;
	--btn-border-highlight: #ffb900;

	/* Colors */
	--default-primary: #ffb900;
	--default-primary-accent: #ffd633;
	--default-background: #ffffff;

	--ghost-hover-bg: #f5f5f5;
}

/* Base button */
.wp-block-button {
	.wp-block-button__link {
		@apply h-(--btn-height) min-w-(--btn-width) gap-(--btn-gap);
		@apply inline-flex items-center justify-center no-underline;
		@apply transition-all duration-200 ease-in-out;
		@apply will-change-[background-color,color,border-color];
		@apply scale-100;
		@apply border border-solid border-transparent;

		&:active {
			@apply scale-[0.97];
		}

		&:focus,
		&:focus-visible,
		&.is-active {
			@apply outline-[3px] outline-offset-2 outline-solid;
			outline-color: var(--btn-border-highlight);
		}

		&[aria-disabled="true"] {
			@apply pointer-events-none opacity-60;
		}
	}

	/* Fill button */
	&.is-style-fill .wp-block-button__link {
		@apply bg-(--default-primary) text-(--default-background);

		&:hover {
			background-color: var(--default-primary-accent);
		}
	}

	/* Outline button */
	&.is-style-outline .wp-block-button__link {
		@apply bg-transparent text-(--default-primary);
		border-width: var(--btn-border-width);
		border-color: var(--default-primary);

		&:hover {
			border-color: var(--default-primary-accent);
			background-color: var(--default-primary);
			color: var(--default-background);
		}
	}

	/* Ghost button */
	&.is-style-ghost .wp-block-button__link {
		@apply bg-transparent;
		border-width: var(--btn-border-width);
		border-color: transparent;
		color: var(--default-primary);

		&:hover {
			background-color: var(--ghost-hover-bg);
			border-color: transparent;
		}
	}
}

/* Header CTA button variation */
.govwind-cta-header-container {
	.wp-block-buttons {
		@apply relative flex;
		margin-left: 28px;

		&::before {
			content: "";
			@apply absolute top-[10%] bottom-[10%] left-[-9%] w-px bg-gray-300;
		}
	}
}

@media (max-width: 768px) {
	.govwind-cta-header-container .wp-block-buttons::before {
		display: none; /* remove divider */
	}

	.govwind-cta-header-container {
		@apply flex w-full flex-col items-stretch;

		.wp-block-buttons {
			margin-left: 0;
		}
	}

	.is-layout-flex > :is(*, div) {
		margin-left: 0;
	}

	/* Search wrapper full width */
	.wp-block-search__inside-wrapper {
		width: 100% !important;
	}

	.wp-block-search__input {
		@apply w-full;
		box-sizing: border-box;
	}

	/* Make buttons full width and stacked */
	.wp-block-buttons {
		@apply flex w-full flex-col items-stretch;

		.wp-block-button {
			@apply w-full;

			.wp-block-button__link {
				@apply w-full;
				min-width: 0;
			}
		}
	}
}

/* Dark mode / prefers-color-scheme */
@media (prefers-color-scheme: dark) {
	.wp-block-button.is-style-ghost .wp-block-button__link {
		color: var(--default-primary);

		&:hover {
			color: var(--default-background);
		}
	}
}

/* Editor-specific styles */
.editor-styles-wrapper .wp-block-button {
	.wp-block-button__link {
		@apply transition-all duration-300 ease-in-out;
		height: var(--btn-height);
		min-width: var(--btn-width);
		gap: var(--btn-gap);

		&:hover {
			background-color: var(--default-primary-accent);
		}

		&:active {
			@apply scale-[0.97];
		}
	}

	/* Ghost style override */
	&.is-style-ghost .wp-block-button__link {
		&:hover {
			background-color: var(--ghost-hover-bg);
			border-color: transparent;
		}
	}
}

/* Block editor preview */
.block-editor-block-list__layout .wp-block-button {
	.wp-block-button__link {
		@apply transition-all duration-300 ease-in-out;

		&:hover {
			background-color: var(--default-primary-accent);
		}
	}

	/* Ghost style override */
	&.is-style-ghost .wp-block-button__link {
		&:hover {
			background-color: var(--ghost-hover-bg);
			border-color: transparent;
		}
	}
}

/* Utilities */
.btn-no-animation {
	@apply transition-none;
	transform: none !important;
}

.btn-full-width {
	@apply w-full;
	width: 100%;
}

/* High-contrast (Windows forced-colors) */
@media (forced-colors: active) {
	.wp-block-button__link,
	.wp-block-button.is-style-outline .wp-block-button__link {
		@apply border border-solid;
		border-color: ButtonText !important;
		color: ButtonText;
		background: ButtonFace;
	}
}

/* Print */
@media print {
	.wp-block-button__link {
		@apply border border-solid border-black bg-transparent text-black;
		@apply no-underline;

		&::after {
			content: " (" attr(href) ")";
			@apply text-xs text-gray-600;
		}
	}
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
	.wp-block-button__link {
		@apply transition-none;
		transition: none;

		&:active {
			@apply scale-100;
		}
	}
}

/* Mobile full-width buttons */
@media (max-width: 768px) {
	.wp-block-buttons {
		@apply flex w-full flex-col;

		.wp-block-button {
			@apply w-full;

			.wp-block-button__link {
				@apply w-full;
				min-width: 0;
			}
		}
	}
}
