// Forward all theme modules
@forward "palettes/defaults";
@forward "palettes/ccrc";
@forward "palettes/vc";
@forward "palettes/imb";
@forward "palettes/lay-observers";
@forward "palettes/playground";
$sites: ccrc, vc, imb, lay-observers, playground;
$colours:
	header-bg, header-txt, primary, secondary, accent, muted, muted-foreground,
	border, input, ring;

:root {
	--header-bg: var(--brand-header-bg--dark);
	--header-txt: var(--brand-header-txt--dark);
	--background: var(--brand-bg-dark);
	--foreground: var(--brand-txt-dark);
	@media (prefers-color-scheme: light) {
		--header-txt: var(--brand-header-txt--light);
		--header-bg: var(--brand-header-bg--light);
		--background: var(--brand-bg-light);
		--foreground: var(--brand-txt-light);
	}
}

//goes through the $sites and summons forth their colour palettes.
@mixin gw-summon-palette($sites, $colours) {
	:root {
		@each $site in $sites {
			@each $colour in $colours {
				--#{$site}-#{$colour}: var(--#{$site}-#{$colour}-dark);

				@media (prefers-color-scheme: light) {
					--#{$site}-#{$colour}: var(--#{$site}-#{$colour}-light);
				}
			}
		}
	}
}

@include gw-summon-palette($sites: $sites, $colours: $colours);
